title: '【翻译】线程池'
date: 2015-01-17 14:56:09
categories:
	- Translation
tags:
	- Translation
	- Thread pool
---

####原文
> 地址：http://en.wikipedia.org/wiki/Thread_pool_pattern

####译文：
在计算机程序中，线程池模式是指创建多个线程来执行一些任务，这些任务通常放在一个队列中。执行任务的结果可能也放在一个队列或者任务也可能没有返回值。通常情况下，任务数量要比线程要多。一个线程完成了一个任务，还会从队列中请求下一个任务直到任务队列的所有任务全部完成。然后线程可以终止或者sleep，直到有新的任务需要执行。
线程的数量可以被调整的，以提高性能参数。也就是说，线程的数量可以根据等待的任务数量来调整。例如：一个web服务器，如果有很多页面请求时创建线程，并且在这些请求结束删除这些线程。线程池越大，消耗的资源也会增加。下面是何时创建线程何时销毁线程对性能影响：
* 创建太多的线程，创建未使用的线程会造成资源浪费和时间的浪费
* 销毁太多的线程，会花费很多的时间再一次创建它。
* 创建线程太慢，会造成客户端体验不佳。
* 销毁线程太慢，占用太多资源，影响其他进程。

该算法的选择，需要根据所解决的问题和实际的应用场景。<!--more-->
如果任务数量比较大，为每个任务创建一个线程是不实际的。
另外一个优势，使用线程池，比为每个任务创建一个线程并任务完成后销毁，是能够获得更好的性能和系统稳定性。创建和销毁线程以及相关的资源在时间上一个非常昂贵的过程。过量的线程，会造成内存的浪费，同时可运行线程的上下文切换也会降低性能。例如，一个socket连接到另一台机器，可能需要成千上万个线程周期性的销毁和重建。可以通过一个线程轮询，线程关联处理的线程。
在实现这个模式时，程序员需要考虑线程安全的队列。在java中，可以在相关的方法中使用sychronized关键字，它可以把变成一个同步的原子区域，任何使用相关资源的线程会等待没有其他线程使用该资源时再使用。这种方法的缺陷，同步是非常昂贵的。你也可以创建一个对象来管理所有的工作在一个队列中，这个对象需要是单例的。
通常情况下，一个线程池执行在一台机器上。然而线程池的概念涉及服务器集群，一个主进程来处理线程池本身，任务的执行分配在不同的机器上进行，来提高它的吞吐量。 Embarrassingly parallel 问题比较适合这个方法。
####译后感：
作为翻译的第一篇文章，特意挑选了一个比较短的而且对该技术已经有所了解的文章翻译，以便降低翻译难度。部分句子自己能够理解但是还是不知道如何翻译。在本文中，是主要介绍一个线程池技术的概念，以及线程池解决的问题。最有一段是一点实现的建议。